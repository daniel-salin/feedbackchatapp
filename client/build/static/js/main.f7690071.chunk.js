(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t,n){e.exports=n(93)},55:function(e,t,n){},79:function(e,t){},82:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(46),c=n.n(o),s=(n(55),n(5)),l=n(6),i=n(8),u=n(7),m=n(9),h=n(13),p=n(10),d=n(47),v=n.n(d),f=(n(82),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSlider=function(e){var t=e.target.value,a={uid:n.props.socket.id,value:t};n.props.socket.emit("slider-value",a)},n.enterRoom=function(e){e.preventDefault();var t=n.roomInputValue.current.value;n.props.socket.emit("enterRoom",t,!1),n.setState({currentRoom:t})},n.roomInputValue=r.a.createRef(),n.state={currentRoom:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Student"),r.a.createElement("form",{onSubmit:this.enterRoom},r.a.createElement("input",{ref:this.roomInputValue,type:"text"}),r.a.createElement("button",null,"Join Room")),null!==this.state.currentRoom?r.a.createElement("div",{className:"current-room-container",style:{background:"black",color:"white",padding:"10px",margin:"10px"}},r.a.createElement("h2",null,"Welcome to room ",this.state.currentRoom),r.a.createElement("form",null,r.a.createElement("input",{onChange:this.handleSlider,type:"range",max:"10",min:"0"}))):"",r.a.createElement("div",{id:"Output"}))}}]),t}(r.a.Component)),E=n(15),b=n(12),k=(n(83),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={time:0,isOn:!1,start:0,dataOverTime:[]},n.startTimer=n.startTimer.bind(Object(b.a)(n)),n.stopTimer=n.stopTimer.bind(Object(b.a)(n)),n.resetTimer=n.resetTimer.bind(Object(b.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"startTimer",value:function(){var e=this;this.setState({isOn:!0,time:this.state.time,start:Date.now()-this.state.time}),this.timer=setInterval(function(){return e.setState({time:Date.now()-e.state.start})},1),this.checkValue=setInterval(function(){return e.setState({dataOverTime:[].concat(Object(E.a)(e.state.dataOverTime),[{x:Math.floor(e.state.time/1e3),y:e.props.currentAverageScore}])})},1e3)}},{key:"stopTimer",value:function(){this.setState({isOn:!1}),clearInterval(this.timer),clearInterval(this.checkValue)}},{key:"resetTimer",value:function(){this.setState({time:0,isOn:!1})}},{key:"render",value:function(){var e=0==this.state.time?r.a.createElement("button",{onClick:this.startTimer},"start"):null,t=0!=this.state.time&&this.state.isOn?r.a.createElement("button",{onClick:this.stopTimer},"stop"):null,n=0==this.state.time||this.state.isOn?null:r.a.createElement("button",{onClick:this.startTimer},"resume"),a=0==this.state.time||this.state.isOn?null:r.a.createElement("button",{onClick:this.resetTimer},"reset");return r.a.createElement("div",null,null!==this.props.currentAverageScore?r.a.createElement("h3",null,this.props.currentAverageScore):"",r.a.createElement("h3",null,"timer: ms(",this.state.time,")"),e,n,t,a,r.a.createElement("ul",null,this.state.dataOverTime.map(function(e){return r.a.createElement("li",null,"y:",e.y,", x:",e.x)})))}}]),t}(r.a.Component)),O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).addRoom=function(e){n.setState({rooms:[].concat(Object(E.a)(n.state.rooms),[e])})},n.createRoom=function(){var e=Math.floor(1e3*Math.random());n.props.socket.emit("createRoom",e)},n.enterRoom=function(e){n.props.socket.emit("enterRoom",e,!0),n.setState({currentRoom:e})},n.studentInput=function(){n.props.socket.emit("getRoomSnapshot",n.state.currentRoom),n.props.socket.on("usersInRoom",function(e){n.setState({currentRoomStatus:e}),console.log(n.state.currentRoomStatus);var t=n.state.currentRoomStatus.filter(function(e){return"student"===e.role}).length,a=n.state.currentRoomStatus.filter(function(e){return"student"===e.role}).map(function(e){return parseInt(e.value)}),r=a.reduce(function(e,t){return e+t}),o=r/t;console.log("score array: ",a),console.log("total score: ",r),console.log("number of users: ",t),console.log("average score: ",o),n.setState({averageScore:o})})},n.state={rooms:[],currentRoom:null,currentRoomStatus:[],averageScore:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.socket.on("createdRoom",function(t){e.setState({rooms:[].concat(Object(E.a)(e.state.rooms),[t])})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Teacher"),null!==this.state.currentRoom?r.a.createElement("div",{className:"current-room-container",style:{background:"black",color:"white",padding:"10px",margin:"10px"}},r.a.createElement("h3",null,"Room: ",this.state.currentRoom),r.a.createElement("p",null,"Average Score:",this.state.averageScore),r.a.createElement("button",{onClick:this.studentInput},"Get current score")):"",r.a.createElement("button",{onClick:this.createRoom},"Create Room"),r.a.createElement("ul",{style:{listStyleType:"none"}},this.state.rooms.map(function(t){return r.a.createElement(h.a,null,r.a.createElement("button",{key:t,value:t,onClick:function(){e.enterRoom(t)}},"Room ID: ",t))})),r.a.createElement(k,{currentAverageScore:this.state.averageScore}),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.studentInput},"Get user info")),r.a.createElement("button",{onClick:this.startLecture},"Start counter!"))}}]),t}(r.a.Component);function g(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Home"),r.a.createElement("a",{href:"/"},r.a.createElement("button",null,"Admin")),r.a.createElement("a",{href:""},r.a.createElement("button",null,"Users")))}var S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).getUserHandler=function(e){n.socket.emit("get-users")},n.socket=v.a.connect("https://localhost:5000"),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Feedback App"),r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement("button",null,r.a.createElement(h.b,{to:"/teacher/"},"Teacher")),r.a.createElement("button",null,r.a.createElement(h.b,{to:"/student/"},"Student")),r.a.createElement("div",{style:{background:"white",padding:"10px"}},r.a.createElement(p.a,{path:"/",exact:!0,render:function(){return r.a.createElement(g,{socket:e.socket})}}),r.a.createElement(p.a,{path:"/student/",render:function(){return r.a.createElement(f,{socket:e.socket})}}),r.a.createElement(p.a,{path:"/teacher/",render:function(){return r.a.createElement(O,{socket:e.socket})}})))),r.a.createElement("button",{onClick:this.getUserHandler},"Get active users"))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,1,2]]]);
//# sourceMappingURL=main.f7690071.chunk.js.map